---
title: "Reproducible Research: Peer Assessment 1"
output: 
  html_document:
    keep_md: true
---


## Loading and preprocessing the data

To begin, we load the provided data into the `df` data frame.

```{r}
data_filename <- unzip("activity.zip", list = TRUE)[[1]] 
unzip("activity.zip")
df <- read.csv(data_filename, colClasses = c("integer", "Date", "integer"))
head(df)
```

Then, using the `interval` column, we create a `datetime` column.

```{r}
library(stringr)
df.time <- str_pad(df$interval, width=4, side = "left", pad = "0")
df.time <- paste(substr(df.time, 1, 2), substr(df.time, 3,4), sep=":")
df$datetime <- strptime(paste(df$date, df.time, sep = " "), "%F %H:%M")
head(df)
```

## What is mean total number of steps taken per day?

We create a histogram of the **total** steps taken per day.

```{r}
daily.total.steps <- tapply(df$steps, df$date, sum, na.rm = TRUE)
hist(daily.total.steps, breaks = 10, col = "gray")
```

And we calculate the **mean** and **median** total steps taken per day.

```{r}
# mean
mean(daily.total.steps, na.rm = TRUE)
# median
median(daily.total.steps, na.rm = TRUE)
summary(daily.total.steps, na.rm = TRUE)
```

## What is the average daily activity pattern?

```{r}
average.steps.taken <- tapply(df$steps, df$interval, mean, na.rm = TRUE)
plot(
  average.steps.taken, 
  type = "l",
  xlab = "5-minute interval"
)
```

## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
